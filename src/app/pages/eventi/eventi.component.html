<div class="search-bar">
  <input type="text" placeholder="Search by title or tag" [(ngModel)]="searchTerm" (ngModelChange)="filterEvents()" />
</div>

<h2 class="h2">Future Events</h2>
<div class="h2" *ngIf="futureEvents.length === 0">Nessun evento futuro</div>
<div class="cards-container" *ngIf="futureEvents.length > 0">
  <div class="card clickable-card" *ngFor="let event of futureEvents">
    <div class="card-image-container">
      <img src="images/hero.png" alt="Immagine Evento" class="card-image" />
      <div class="event-date">{{ event.date | date : "dd MMM yyyy" }}</div>
    </div>
    <div class="card-details">
      <h3 class="event-title">
        <a class="router-link" [routerLink]="['/eventi', event.id]">{{ event.title }}</a>
      </h3>
      <div class="event-time">{{ event.date | date : "dd MMM yyyy" }}</div>
      <p class="event-description">{{ event.description }}</p>
      <div class="tags">
        <span *ngFor="let tag of event.tags" class="tag">{{ tag.name }}</span>
      </div>
      <div class="booking-message" *ngIf="event.bookingMessage">
        {{ event.bookingMessage }}
      </div>

      <div class="card-footer">
        <span class="remaining-spots">
          {{ event.remaining }} posti mancanti
        </span>
        <button class="participate-button" (click)="participate(event.id)">Partecipa</button>
      </div>
    </div>
  </div>
</div>

<h2 class="h2">Past Events</h2>
<div class="h2" *ngIf="pastEvents.length === 0">Nessun evento passato</div>
<div class="cards-container" *ngIf="pastEvents.length > 0">
  <div class="card clickable-card" *ngFor="let event of pastEvents">
    <div class="card-image-container">
      <img src="images/hero.png" alt="Immagine Evento" class="card-image" />
      <div class="event-date">{{ event.date | date : "dd MMM yyyy" }}</div>
    </div>
    <div class="card-details">
      <h3 class="event-title">
        <a class="router-link" [routerLink]="['/eventi', event.id]">{{ event.title }}</a>
      </h3>
      <div class="event-time">{{ event.date | date : "dd MMM yyyy" }}</div>
      <p class="event-description">{{ event.description }}</p>
      <div class="tags">
        <span *ngFor="let tag of event.tags" class="tag">{{ tag.name }} </span>
      </div>

      <div class="booking-message" *ngIf="event.bookingMessage">
        {{ event.bookingMessage }}
      </div>
    </div>
  </div>
</div>
